@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    color-scheme: light;
    /* Core Colors - Daylight earthy palette */
    --background: 45 43% 96%;
    --foreground: 30 25% 18%;
    --card: 45 38% 98%;
    --card-foreground: 30 25% 18%;
    --border: 120 18% 78%;
    --input: 120 18% 88%;
    --ring: 100 45% 38%;

    /* Primary Colors - Rich forest green */
    --primary: 100 45% 35%;
    --primary-foreground: 60 8% 98%;
    --primary-hover: 100 45% 32%;
    --primary-light: 100 45% 55%;
    --primary-dark: 100 45% 28%;

    /* Secondary Colors - Warm earth tone */
    --secondary: 30 35% 82%;
    --secondary-foreground: 30 25% 24%;
    --secondary-hover: 30 35% 78%;
    --secondary-light: 30 35% 88%;
    --secondary-dark: 30 35% 70%;

    /* Accent Colors - Sage green */
    --accent: 120 32% 55%;
    --accent-foreground: 30 25% 20%;
    --accent-hover: 120 32% 50%;
    --accent-light: 120 32% 68%;
    --accent-dark: 120 32% 42%;

    /* Muted Colors */
    --muted: 120 20% 92%;
    --muted-foreground: 120 15% 32%;
    --muted-light: 120 20% 96%;
    --muted-dark: 120 20% 78%;

    /* Status Colors - Enhanced for better contrast */
    --success: 120 50% 42%;
    --success-foreground: 60 8% 98%;
    --success-hover: 120 50% 38%;
    --success-light: 120 50% 62%;

    --warning: 45 90% 60%;
    --warning-foreground: 30 25% 20%;
    --warning-hover: 45 90% 55%;
    --warning-light: 45 90% 72%;

    --destructive: 0 75% 56%;
    --destructive-foreground: 60 8% 100%;
    --destructive-hover: 0 75% 50%;
    --destructive-light: 0 75% 72%;

    --info: 200 80% 55%;
    --info-foreground: 60 8% 100%;
    --info-hover: 200 80% 50%;
    --info-light: 200 80% 70%;

    /* Theme Colors - Refined earthy palette */
    --earthy-brown: 30 25% 40%;
    --moss-green: 100 40% 35%;
    --sage-green: 120 30% 65%;
    --forest-green: 100 50% 30%;
    --warm-beige: 45 35% 90%;
    --deep-forest: 100 30% 22%;

    /* Design Tokens */
    --radius: 1.2rem;
    --spacing-xs: 0.25rem;
    --spacing-sm: 0.5rem;
    --spacing-md: 1rem;
    --spacing-lg: 1.5rem;
    --spacing-xl: 2rem;
    --spacing-2xl: 3rem;

    /* Enhanced Gradients */
    --gradient-primary: linear-gradient(
      135deg,
      hsl(var(--primary)),
      hsl(var(--accent)),
      hsl(var(--primary-light))
    );
    --gradient-secondary: linear-gradient(
      135deg,
      hsl(var(--accent)),
      hsl(var(--primary)),
      hsl(var(--accent-light))
    );
    --gradient-elegant: linear-gradient(
      180deg,
      hsl(var(--background)),
      hsl(var(--muted) / 0.5),
      hsl(var(--card))
    );
    --gradient-forest: linear-gradient(
      135deg,
      hsl(var(--forest-green)),
      hsl(var(--moss-green)),
      hsl(var(--sage-green))
    );
    --gradient-earth: linear-gradient(
      135deg,
      hsl(var(--earthy-brown)),
      hsl(var(--secondary)),
      hsl(var(--warm-beige))
    );
    --gradient-sunset: linear-gradient(
      135deg,
      hsl(var(--primary)),
      hsl(var(--warning)),
      hsl(var(--accent))
    );
    --gradient-ocean: linear-gradient(
      135deg,
      hsl(var(--info)),
      hsl(var(--accent)),
      hsl(var(--primary))
    );
    --gradient-success: linear-gradient(
      135deg,
      hsl(var(--success)),
      hsl(var(--success-light)),
      hsl(var(--accent))
    );

    /* Shadows */
    --shadow-elegant:
      0 20px 25px -5px hsl(var(--primary) / 0.12),
      0 10px 10px -5px hsl(var(--primary) / 0.05);
    --shadow-glow: 0 0 35px hsl(var(--primary) / 0.25);
    --shadow-card:
      0 4px 6px -1px hsl(var(--primary) / 0.1),
      0 2px 4px -1px hsl(var(--primary) / 0.04);

    /* Glass Effects */
    --liquid-glass: rgba(255, 255, 255, 0.65);
    --liquid-border: rgba(255, 255, 255, 0.8);

    /* Sidebar Colors */
    --sidebar-background: 45 38% 94%;
    --sidebar-foreground: 30 25% 22%;
    --sidebar-primary: 100 40% 32%;
    --sidebar-primary-foreground: 60 9% 98%;
    --sidebar-accent: 120 28% 64%;
    --sidebar-accent-foreground: 30 25% 24%;
    --sidebar-border: 120 16% 82%;
    --sidebar-ring: 100 40% 32%;
  }

  [data-theme='light'] {
    color-scheme: light;
  }

  [data-theme='dark'] {
    color-scheme: dark;
  }

  .dark {
    color-scheme: dark;
    /* Core Colors - Enhanced dark mode */
    --background: 30 15% 8%;
    --foreground: 60 8% 98%;
    --card: 30 15% 10%;
    --card-foreground: 60 8% 98%;
    --border: 120 12% 18%;
    --input: 120 12% 12%;
    --ring: 100 45% 35%;

    /* Primary Colors - Vibrant in dark mode */
    --primary: 100 45% 35%;
    --primary-foreground: 30 15% 8%;
    --primary-hover: 100 45% 40%;
    --primary-light: 100 45% 50%;
    --primary-dark: 100 45% 25%;

    /* Secondary Colors */
    --secondary: 30 20% 15%;
    --secondary-foreground: 60 8% 95%;
    --secondary-hover: 30 20% 20%;
    --secondary-light: 30 20% 25%;
    --secondary-dark: 30 20% 12%;

    /* Accent Colors */
    --accent: 120 35% 55%;
    --accent-foreground: 30 15% 8%;
    --accent-hover: 120 35% 60%;
    --accent-light: 120 35% 70%;
    --accent-dark: 120 35% 45%;

    /* Muted Colors */
    --muted: 120 12% 12%;
    --muted-foreground: 120 8% 70%;
    --muted-light: 120 12% 18%;
    --muted-dark: 120 12% 8%;

    /* Status Colors - Enhanced for dark mode */
    --success: 120 55% 50%;
    --success-foreground: 30 15% 8%;
    --success-hover: 120 55% 55%;
    --success-light: 120 55% 65%;

    --warning: 45 95% 60%;
    --warning-foreground: 30 15% 8%;
    --warning-hover: 45 95% 65%;
    --warning-light: 45 95% 75%;

    --destructive: 0 80% 60%;
    --destructive-foreground: 60 8% 98%;
    --destructive-hover: 0 80% 65%;
    --destructive-light: 0 80% 75%;

    --info: 200 85% 55%;
    --info-foreground: 30 15% 8%;
    --info-hover: 200 85% 60%;
    --info-light: 200 85% 70%;

    /* Enhanced Dark Mode Gradients */
    --gradient-primary: linear-gradient(
      135deg,
      hsl(var(--primary)),
      hsl(var(--accent)),
      hsl(var(--primary-light))
    );
    --gradient-secondary: linear-gradient(
      135deg,
      hsl(var(--accent)),
      hsl(var(--primary)),
      hsl(var(--accent-light))
    );
    --gradient-elegant: linear-gradient(
      180deg,
      hsl(var(--background)),
      hsl(var(--card)),
      hsl(var(--muted) / 0.3)
    );
    --gradient-forest: linear-gradient(
      135deg,
      hsl(var(--forest-green)),
      hsl(var(--moss-green)),
      hsl(var(--sage-green))
    );
    --gradient-earth: linear-gradient(
      135deg,
      hsl(var(--earthy-brown)),
      hsl(var(--secondary)),
      hsl(var(--warm-beige))
    );
    --gradient-sunset: linear-gradient(
      135deg,
      hsl(var(--primary)),
      hsl(var(--warning)),
      hsl(var(--accent))
    );
    --gradient-ocean: linear-gradient(
      135deg,
      hsl(var(--info)),
      hsl(var(--accent)),
      hsl(var(--primary))
    );
    --gradient-success: linear-gradient(
      135deg,
      hsl(var(--success)),
      hsl(var(--success-light)),
      hsl(var(--accent))
    );

    /* Enhanced Shadows for Dark Mode */
    --shadow-elegant:
      0 20px 25px -5px hsl(var(--primary) / 0.25),
      0 10px 10px -5px hsl(var(--primary) / 0.1);
    --shadow-glow:
      0 0 50px hsl(var(--primary) / 0.4), 0 0 100px hsl(var(--primary) / 0.1);
    --shadow-card:
      0 4px 6px -1px hsl(var(--primary) / 0.25),
      0 2px 4px -1px hsl(var(--primary) / 0.15);
    --shadow-soft:
      0 2px 8px hsl(var(--primary) / 0.1), 0 1px 3px hsl(var(--primary) / 0.05);
    --shadow-strong:
      0 10px 25px -3px hsl(var(--primary) / 0.3),
      0 4px 6px -2px hsl(var(--primary) / 0.2);

    /* Glass Effects */
    --liquid-glass: rgba(255, 255, 255, 0.03);
    --liquid-border: rgba(255, 255, 255, 0.08);

    /* Sidebar Colors */
    --sidebar-background: 30 25% 10%;
    --sidebar-foreground: 60 9% 95%;
    --sidebar-primary: 100 40% 20%;
    --sidebar-primary-foreground: 60 9% 95%;
    --sidebar-accent: 120 20% 50%;
    --sidebar-accent-foreground: 30 25% 10%;
    --sidebar-border: 120 13% 15%;
    --sidebar-ring: 100 40% 20%;
  }

  body {
    margin: 0;
    font-family:
      "Inter",
      -apple-system,
      BlinkMacSystemFont,
      "Segoe UI",
      "Roboto",
      "Oxygen",
      "Ubuntu",
      "Cantarell",
      "Fira Sans",
      "Droid Sans",
      "Helvetica Neue",
      sans-serif;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    background-color: hsl(var(--background));
    color: hsl(var(--foreground));
    background-image:
      radial-gradient(at 20% 30%, hsl(var(--primary) / 0.12), transparent 50%),
      radial-gradient(at 80% 20%, hsl(var(--accent) / 0.08), transparent 50%),
      radial-gradient(at 40% 80%, hsl(var(--primary) / 0.06), transparent 60%),
      radial-gradient(
        at 60% 40%,
        hsl(var(--forest-green) / 0.05),
        transparent 70%
      ),
      linear-gradient(
        135deg,
        hsl(var(--background)),
        hsl(var(--muted) / 0.3),
        hsl(var(--card) / 0.2)
      );
    background-attachment: fixed;
  }

  input,
  textarea,
  select {
    color: hsl(var(--foreground));
    background-color: hsl(var(--card));
    border: 1px solid hsl(var(--border));
    box-shadow: inset 0 1px 1px hsl(var(--background) / 0.25);
    transition:
      background-color 150ms ease,
      color 150ms ease,
      border-color 150ms ease,
      box-shadow 150ms ease;
  }

  input::placeholder,
  textarea::placeholder {
    color: hsl(var(--muted-foreground));
  }

  input:focus-visible,
  textarea:focus-visible,
  select:focus-visible {
    outline: none;
    border-color: hsl(var(--ring));
    box-shadow:
      0 0 0 2px hsl(var(--ring) / 0.35),
      inset 0 1px 1px hsl(var(--background) / 0.2);
  }
}

@layer components {
  /* Layout Components */
  .stack-card {
    @apply transition-standard backdrop-blur-sm;
  }

  .stack-card:hover {
    @apply transform translate-y-[-4px] shadow-elegant;
  }

  .current-speaker {
    @apply ring-2 ring-primary/30 shadow-glow;
    background: var(--gradient-primary);
    border: 1px solid hsl(var(--primary) / 0.2);
  }

  .glass-card {
    @apply backdrop-blur-xl bg-card/70 border border-border/50 shadow-elegant;
  }

  .liquid-glass {
    backdrop-filter: blur(20px) saturate(180%);
    background: var(--liquid-glass);
    border: 1px solid var(--liquid-border);
    box-shadow:
      0 8px 32px 0 rgba(31, 38, 135, 0.37),
      inset 0 1px 0 0 rgba(255, 255, 255, 0.05);
  }

  /* Interactive Components */
  .tilt-card {
    transform-style: preserve-3d;
    transition: transform 0.1s ease-out;
  }

  .hover-scale {
    @apply transition-transform duration-200 hover:scale-105;
  }

  .hover-lift {
    @apply transition-standard hover:transform hover:-translate-y-1 hover:shadow-lg;
  }

  .hover-glow {
    @apply transition-standard hover:shadow-glow;
  }

  .floating-glow {
    position: relative;
  }

  .floating-glow::before {
    content: "";
    position: absolute;
    inset: -2px;
    background: var(--gradient-primary);
    border-radius: inherit;
    opacity: 0;
    transition: opacity 0.3s ease;
    z-index: -1;
    filter: blur(8px);
  }

  .floating-glow:hover::before {
    opacity: 0.3;
  }

  /* Toggle Components */
  .toggle-button {
    @apply relative overflow-hidden;
  }

  .toggle-button::before {
    content: "";
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(
      90deg,
      transparent,
      rgba(255, 255, 255, 0.2),
      transparent
    );
    transition: left 0.5s;
  }

  .toggle-button:hover::before {
    left: 100%;
  }

  .toggle-indicator {
    @apply absolute top-1.5 bottom-1.5 rounded-lg transition-fast;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
  }

  .toggle-indicator::after {
    content: "";
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    border-radius: inherit;
    background: linear-gradient(135deg, rgba(255, 255, 255, 0.2), transparent);
    pointer-events: none;
  }

  /* Text Components */
  .gradient-text {
    background: var(--gradient-primary);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }

  .hero-text {
    background: linear-gradient(
      135deg,
      hsl(var(--foreground)),
      hsl(var(--primary)),
      hsl(var(--accent))
    );
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    animation: gradient-shift 6s ease-in-out infinite;
  }

  /* Animation Components */
  .slide-up {
    @apply animate-in slide-in-from-bottom-6 duration-500 ease-out;
  }

  .fade-in {
    @apply animate-in fade-in-0 duration-300 ease-out;
    animation-fill-mode: both;
  }

  .drag-overlay {
    @apply rotate-2 scale-110 shadow-glow;
    backdrop-filter: blur(20px);
  }

  .dragging {
    opacity: 0.5;
    cursor: grabbing;
  }

  .drag-over {
    border: 2px dashed hsl(var(--primary));
    background: hsl(var(--primary) / 0.05);
  }

  .draggable-item {
    cursor: grab;
  }

  .organic-blob {
    border-radius: 60% 40% 30% 70% / 60% 30% 70% 40%;
    animation: organic-morph 8s ease-in-out infinite;
  }

  .organic-blob-delay-1 {
    animation-delay: 1s;
  }

  .organic-blob-delay-2 {
    animation-delay: 2s;
  }

  .organic-blob-delay-3 {
    animation-delay: 3s;
  }

  .organic-blob-delay-4 {
    animation-delay: 4s;
  }

  /* Utility Components */
  .kbd {
    @apply px-2 py-1 text-xs font-mono bg-muted border border-border/50 rounded shadow-sm;
  }

  .next-speaker-gradient {
    background: linear-gradient(
      135deg,
      hsl(var(--primary) / 0.08),
      hsl(var(--accent) / 0.05)
    );
  }

  /* Background Gradients */
  .bg-gradient-primary {
    background: var(--gradient-primary);
  }

  .bg-gradient-secondary {
    background: var(--gradient-secondary);
  }

  .bg-gradient-elegant {
    background: var(--gradient-elegant);
  }

  .bg-gradient-forest {
    background: var(--gradient-forest);
  }

  .bg-gradient-earth {
    background: var(--gradient-earth);
  }

  .bg-gradient-sunset {
    background: var(--gradient-sunset);
  }

  .bg-gradient-ocean {
    background: var(--gradient-ocean);
  }

  .bg-gradient-success {
    background: var(--gradient-success);
  }

  /* Glass Effects */
  .glass-morphism {
    backdrop-filter: blur(20px) saturate(180%);
    background: var(--liquid-glass);
    border: 1px solid var(--liquid-border);
  }

  /* Enhanced Card Variants */
  .card-elevated {
    @apply shadow-elegant hover:shadow-glow transition-standard;
  }

  .card-interactive {
    @apply hover-lift cursor-pointer;
  }

  .card-primary {
    @apply bg-primary/5 border border-primary/20 hover:border-primary/30 transition-standard;
  }

  .card-accent {
    @apply bg-accent/5 border border-accent/20 hover:border-accent/30 transition-standard;
  }

  .card-success {
    @apply bg-success/5 border border-success/20 hover:border-success/30 transition-standard;
  }

  .card-warning {
    @apply bg-warning/5 border border-warning/20 hover:border-warning/30 transition-standard;
  }

  .card-info {
    @apply bg-info/5 border border-info/20 hover:border-info/30 transition-standard;
  }

  .card-forest {
    @apply bg-gradient-forest/10 border border-forest-green/20 hover:border-forest-green/30 transition-standard;
  }

  .card-earth {
    @apply bg-gradient-earth/10 border border-earthy-brown/20 hover:border-earthy-brown/30 transition-standard;
  }

  /* Status Indicators */
  .status-success {
    @apply bg-success text-success-foreground border border-success/20;
  }

  .status-warning {
    @apply bg-warning text-warning-foreground border border-warning/20;
  }

  .status-error {
    @apply bg-destructive text-destructive-foreground border border-destructive/20;
  }

  .status-info {
    @apply bg-info text-info-foreground border border-info/20;
  }

  .status-neutral {
    @apply bg-muted text-muted-foreground border border-muted/20;
  }

  /* Enhanced Button Variants */
  .btn-primary-gradient {
    @apply bg-gradient-primary text-white hover:opacity-90 transition-fast;
  }

  .btn-secondary-gradient {
    @apply bg-gradient-secondary text-white hover:opacity-90 transition-fast;
  }

  .btn-forest-gradient {
    @apply bg-gradient-forest text-white hover:opacity-90 transition-fast;
  }

  .btn-earth-gradient {
    @apply bg-gradient-earth text-white hover:opacity-90 transition-fast;
  }

  .btn-sunset-gradient {
    @apply bg-gradient-sunset text-white hover:opacity-90 transition-fast;
  }

  .btn-ocean-gradient {
    @apply bg-gradient-ocean text-white hover:opacity-90 transition-fast;
  }

  .btn-success-gradient {
    @apply bg-gradient-success text-white hover:opacity-90 transition-fast;
  }

  .btn-glass {
    @apply glass-morphism hover:bg-opacity-20 transition-fast;
  }

  .btn-outline-primary {
    @apply border-2 border-primary text-primary hover:bg-primary hover:text-primary-foreground transition-fast;
  }

  .btn-outline-accent {
    @apply border-2 border-accent text-accent hover:bg-accent hover:text-accent-foreground transition-fast;
  }

  .btn-ghost-primary {
    @apply text-primary hover:bg-primary/10 transition-fast;
  }

  .btn-ghost-accent {
    @apply text-accent hover:bg-accent/10 transition-fast;
  }

  /* Layout Utilities */
  .container-padding {
    @apply px-4 sm:px-6 lg:px-8;
  }

  .section-spacing {
    @apply py-8 sm:py-12 lg:py-16;
  }

  /* Enhanced Text Utilities */
  .text-gradient-primary {
    @apply gradient-text;
  }

  .text-gradient-hero {
    @apply hero-text;
  }

  .text-gradient-forest {
    background: var(--gradient-forest);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }

  .text-gradient-earth {
    background: var(--gradient-earth);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }

  .text-gradient-sunset {
    background: var(--gradient-sunset);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }

  .text-gradient-ocean {
    background: var(--gradient-ocean);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }

  .text-gradient-success {
    background: var(--gradient-success);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }

  /* Transition Utilities */
  .transition-standard {
    @apply transition-all duration-300 ease-out;
  }

  .transition-fast {
    @apply transition-all duration-200 ease-out;
  }

  .transition-slow {
    @apply transition-all duration-500 ease-out;
  }

  /* Keyframes */
  @keyframes gradient-shift {
    0%,
    100% {
      background-position: 0% 50%;
    }
    50% {
      background-position: 100% 50%;
    }
  }

  @keyframes organic-morph {
    0%,
    100% {
      border-radius: 60% 40% 30% 70% / 60% 30% 70% 40%;
    }
    50% {
      border-radius: 30% 60% 70% 40% / 50% 60% 30% 60%;
    }
  }

  /* Enhanced Focus States for Accessibility */
  .focus-ring {
    @apply focus:outline-none focus:ring-2 focus:ring-primary/50 focus:ring-offset-2 focus:ring-offset-background;
  }

  .focus-ring-accent {
    @apply focus:outline-none focus:ring-2 focus:ring-accent/50 focus:ring-offset-2 focus:ring-offset-background;
  }

  .focus-ring-success {
    @apply focus:outline-none focus:ring-2 focus:ring-success/50 focus:ring-offset-2 focus:ring-offset-background;
  }

  .focus-ring-warning {
    @apply focus:outline-none focus:ring-2 focus:ring-warning/50 focus:ring-offset-2 focus:ring-offset-background;
  }

  /* High Contrast Mode Support */
  @media (prefers-contrast: high) {
    .card-elevated {
      @apply border-2 border-foreground/20;
    }

    .btn-outline-primary {
      @apply border-2 border-primary;
    }

    .btn-outline-accent {
      @apply border-2 border-accent;
    }
  }

  /* Reduced Motion Support */
  @media (prefers-reduced-motion: reduce) {
    .organic-blob {
      animation: none;
    }

    .hero-text {
      animation: none;
    }

    .hover-scale {
      @apply hover:scale-100;
    }

    .hover-lift {
      @apply hover:transform-none hover:translate-y-0;
    }
  }

  /* Mobile-specific optimizations */
  @media (max-width: 640px) {
    .validation-feedback {
      @apply text-xs leading-relaxed;
    }

    .form-input {
      @apply text-base; /* Prevents zoom on iOS */
    }

    .mobile-safe-area {
      padding-bottom: env(safe-area-inset-bottom);
    }

    /* Home page mobile optimizations */
    .hero-text {
      @apply text-3xl leading-tight;
    }

    .liquid-glass {
      backdrop-filter: blur(16px) saturate(150%);
    }

    .organic-blob {
      animation-duration: 6s; /* Slightly faster on mobile */
    }
  }

  /* Improved touch targets for mobile */
  @media (max-width: 768px) {
    .touch-target {
      @apply min-h-[44px] min-w-[44px];
    }
  }
}
